server:
  port: 0  # Random port for testing

spring:
  application:
    name: redis-script-query-system-test

  # Redis Configuration for testing
  redis:
    host: localhost
    port: 6379
    password:
    database: 15  # Use different database for testing
    lettuce:
      pool:
        max-active: 8
        max-idle: 8
        min-idle: 0
        max-wait: -1ms
    timeout: 3000ms

# Script Engine Configuration for testing
script:
  max-execution-time: 5000
  cache-enabled: true
  cache-size: 100
  allowed-commands:
    - GET
    - SET
    - HGET
    - HGETALL
    - HSET
    - KEYS
    - SCAN
    - MGET
    - LRANGE
    - SMEMBERS
    - ZRANGE
    - TTL
    - EXISTS
  forbidden-patterns:
    - "FLUSHDB"
    - "FLUSHALL"
    - "SHUTDOWN"
    - "CONFIG"
    - "SCRIPT KILL"
    - "SCRIPT FLUSH"
    - "BGREWRITEAOF"
    - "BGSAVE"
    - "SAVE"
    - "DEBUG"
    - "MIGRATE"

# LLM Configuration for testing
llm:
  primary-provider: OLLAMA
  timeout: 30
  temperature: 0.3
  max-tokens: 1000
  
  # OpenAI Configuration (for testing)
  openai:
    api-url: https://api.openai.com/v1/chat/completions
    api-key: ${OPENAI_API_KEY:}
    model: gpt-3.5-turbo
  
  # Claude Configuration (for testing)
  claude:
    api-url: https://api.anthropic.com/v1/messages
    api-key: ${CLAUDE_API_KEY:}
    model: claude-3-sonnet-20240229
  
  # Compass Configuration (for testing)
  compass:
    api-url: ${COMPASS_API_URL:https://compass.llm.shopee.io/v1/chat/completions}
    api-key: ${COMPASS_API_KEY:}
    model: ${COMPASS_MODEL:compass-1}
  
  # Ollama Configuration (Local - default for testing)
  ollama:
    api-url: http://localhost:11434/api/generate
    model: llama2

# Logging Configuration for testing
logging:
  level:
    root: WARN
    org.example: INFO
    org.springframework: WARN

