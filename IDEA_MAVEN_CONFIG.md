# IntelliJ IDEA Maven é…ç½®è¯´æ˜

## å½“å‰é…ç½®

- **IDEA Maven**: Bundled (Maven 3), version 3.9.9
- **ç³»ç»Ÿ Maven**: 3.9.11 (é€šè¿‡ Homebrew å®‰è£…)

## Bundled Maven vs ç³»ç»Ÿ Maven

### Bundled Maven (IDEA å†…ç½®)

**ä¼˜ç‚¹ï¼š**
- âœ… å¼€ç®±å³ç”¨ï¼Œæ— éœ€é¢å¤–é…ç½®
- âœ… ä¸ IDEA é›†æˆè‰¯å¥½
- âœ… ç‰ˆæœ¬ç¨³å®šï¼Œç»è¿‡ IDEA æµ‹è¯•

**ç¼ºç‚¹ï¼š**
- âš ï¸ ç‰ˆæœ¬å¯èƒ½è¾ƒæ—§ï¼ˆ3.9.9 vs 3.9.11ï¼‰
- âš ï¸ æ— æ³•é€šè¿‡ç³»ç»ŸåŒ…ç®¡ç†å™¨æ›´æ–°
- âš ï¸ å¯èƒ½ä¸ç³»ç»Ÿ Maven é…ç½®ä¸ä¸€è‡´

### ç³»ç»Ÿ Maven

**ä¼˜ç‚¹ï¼š**
- âœ… ç‰ˆæœ¬æ›´æ–°ï¼ˆ3.9.11ï¼‰
- âœ… å¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨æ›´æ–°
- âœ… ä¸å‘½ä»¤è¡Œ Maven ä¸€è‡´
- âœ… å¯ä»¥ä½¿ç”¨ç³»ç»Ÿçº§åˆ«çš„ Maven é…ç½®

**ç¼ºç‚¹ï¼š**
- âš ï¸ éœ€è¦æ‰‹åŠ¨é…ç½®è·¯å¾„
- âš ï¸ éœ€è¦ç¡®ä¿ç‰ˆæœ¬å…¼å®¹

## ç‰ˆæœ¬å·®å¼‚åˆ†æ

### Maven 3.9.9 vs 3.9.11

è¿™ä¸¤ä¸ªç‰ˆæœ¬å·®å¼‚å¾ˆå°ï¼Œä¸»è¦æ˜¯ï¼š
- 3.9.10: ä¿®å¤äº†ä¸€äº› bug
- 3.9.11: è¿›ä¸€æ­¥ä¼˜åŒ–å’Œ bug ä¿®å¤

**å¯¹äºå½“å‰é¡¹ç›®ï¼š**
- âœ… ä¸¤ä¸ªç‰ˆæœ¬éƒ½æ”¯æŒ Java 17
- âœ… éƒ½æ”¯æŒ Mockito 5.11.0
- âœ… éƒ½æ”¯æŒ Spring Boot 3.1.5
- âš ï¸ ç‰ˆæœ¬å·®å¼‚ä¸ä¼šå¯¼è‡´åŠŸèƒ½é—®é¢˜

## å»ºè®®é…ç½®

### æ–¹æ¡ˆ 1: ç»§ç»­ä½¿ç”¨ Bundled Mavenï¼ˆæ¨èç”¨äºç®€å•é¡¹ç›®ï¼‰

**é€‚ç”¨åœºæ™¯ï¼š**
- é¡¹ç›®ä¾èµ–ç®€å•
- ä¸éœ€è¦ç‰¹æ®Š Maven é…ç½®
- å›¢é˜Ÿç»Ÿä¸€ä½¿ç”¨ IDEA

**é…ç½®ï¼š**
- ä¿æŒé»˜è®¤è®¾ç½®ï¼š`Bundled (Maven 3)`

### æ–¹æ¡ˆ 2: åˆ‡æ¢åˆ°ç³»ç»Ÿ Mavenï¼ˆæ¨èç”¨äºå¤æ‚é¡¹ç›®ï¼‰

**é€‚ç”¨åœºæ™¯ï¼š**
- éœ€è¦ä¸å‘½ä»¤è¡Œ Maven ä¿æŒä¸€è‡´
- éœ€è¦å…±äº« Maven é…ç½®ï¼ˆsettings.xmlï¼‰
- éœ€è¦æœ€æ–°ç‰ˆæœ¬çš„ Maven åŠŸèƒ½

**é…ç½®æ­¥éª¤ï¼š**

1. **æ‰“å¼€ IDEA è®¾ç½®**
   - `File` â†’ `Settings` (Windows/Linux)
   - `IntelliJ IDEA` â†’ `Preferences` (macOS)
   - å¯¼èˆªåˆ° `Build, Execution, Deployment` â†’ `Build Tools` â†’ `Maven`

2. **é…ç½® Maven home path**
   - å–æ¶ˆå‹¾é€‰ `Use plugin registry`
   - åœ¨ `Maven home path` ä¸­é€‰æ‹©ï¼š
     - ç‚¹å‡»ä¸‹æ‹‰èœå• â†’ `Add...`
     - æˆ–ç›´æ¥è¾“å…¥è·¯å¾„ï¼š`/usr/local/Cellar/maven/3.9.11/libexec`
     - æˆ–ä½¿ç”¨ï¼š`/usr/local/bin/mvn` çš„çˆ¶ç›®å½•

3. **éªŒè¯é…ç½®**
   - ç‚¹å‡» `Apply`
   - æŸ¥çœ‹ `Maven home directory` æ˜¯å¦æ­£ç¡®æ˜¾ç¤º

4. **é‡æ–°å¯¼å…¥é¡¹ç›®**
   - å³é”® `pom.xml` â†’ `Maven` â†’ `Reload Project`

## æŸ¥æ‰¾ç³»ç»Ÿ Maven è·¯å¾„

### macOS (Homebrew)

```bash
# æŸ¥æ‰¾ Maven å®‰è£…è·¯å¾„
brew --prefix maven
# è¾“å‡ºç¤ºä¾‹: /usr/local/Cellar/maven/3.9.11

# Maven home è·¯å¾„
ls -la $(brew --prefix maven)/libexec
# æˆ–
which mvn
# ç„¶åæŸ¥çœ‹è½¯é“¾æ¥æŒ‡å‘çš„è·¯å¾„
```

### é€šç”¨æ–¹æ³•

```bash
# æŸ¥çœ‹ Maven ç‰ˆæœ¬å’Œè·¯å¾„
mvn -version

# è¾“å‡ºç¤ºä¾‹ï¼š
# Apache Maven 3.9.11 (3e54c93a704957b63ee3494413a2b544fd3d825b)
# Maven home: /usr/local/Cellar/maven/3.9.11/libexec
```

## å½“å‰é¡¹ç›®å…¼å®¹æ€§

### ä½¿ç”¨ Bundled Maven 3.9.9

âœ… **å®Œå…¨å…¼å®¹**
- Java 17 æ”¯æŒï¼šâœ…
- Mockito 5.11.0ï¼šâœ…
- Spring Boot 3.1.5ï¼šâœ…
- æ‰€æœ‰æµ‹è¯•ï¼šâœ… é€šè¿‡

### ä½¿ç”¨ç³»ç»Ÿ Maven 3.9.11

âœ… **å®Œå…¨å…¼å®¹**
- æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
- ç‰ˆæœ¬æ›´æ–°ï¼Œå¯èƒ½æœ‰æ›´å¥½çš„æ€§èƒ½

## æ¨èé…ç½®

### å¯¹äºå½“å‰é¡¹ç›®

**å»ºè®®ï¼šä¿æŒä½¿ç”¨ Bundled Maven 3.9.9**

**åŸå› ï¼š**
1. âœ… ç‰ˆæœ¬å·®å¼‚å¾ˆå°ï¼ˆ3.9.9 vs 3.9.11ï¼‰
2. âœ… å·²ç»å¯ä»¥æ­£å¸¸å·¥ä½œ
3. âœ… å‡å°‘é…ç½®å¤æ‚åº¦
4. âœ… ä¸ IDEA é›†æˆæ›´å¥½

### å¦‚æœé‡åˆ°é—®é¢˜

å¦‚æœé‡åˆ°ä»¥ä¸‹æƒ…å†µï¼Œå»ºè®®åˆ‡æ¢åˆ°ç³»ç»Ÿ Mavenï¼š

1. **ä¾èµ–è§£æé—®é¢˜**
   - IDEA å’Œå‘½ä»¤è¡Œ Maven è¡Œä¸ºä¸ä¸€è‡´

2. **é…ç½®åŒæ­¥é—®é¢˜**
   - éœ€è¦å…±äº« `settings.xml` é…ç½®

3. **ç‰ˆæœ¬ç‰¹å®šåŠŸèƒ½**
   - éœ€è¦ä½¿ç”¨ Maven 3.9.11 çš„æ–°ç‰¹æ€§

## éªŒè¯é…ç½®

### æ£€æŸ¥å½“å‰é…ç½®

1. **IDEA ä¸­æ£€æŸ¥**
   - `Settings` â†’ `Build Tools` â†’ `Maven`
   - æŸ¥çœ‹ `Maven home path`

2. **å‘½ä»¤è¡ŒéªŒè¯**
   ```bash
   mvn -version
   ```

3. **æµ‹è¯•ç¼–è¯‘**
   ```bash
   mvn clean test-compile
   ```

## å¸¸è§é—®é¢˜

### Q: Bundled Maven å’Œç³»ç»Ÿ Maven ç‰ˆæœ¬ä¸ä¸€è‡´ä¼šæœ‰é—®é¢˜å—ï¼Ÿ

**A:** é€šå¸¸ä¸ä¼šæœ‰é—®é¢˜ï¼Œä½†å»ºè®®ä¿æŒä¸€è‡´ï¼š
- å¦‚æœä½¿ç”¨ Bundled Mavenï¼Œåœ¨å‘½ä»¤è¡Œä¹Ÿä½¿ç”¨ç›¸åŒç‰ˆæœ¬
- æˆ–è€…åˆ‡æ¢åˆ°ç³»ç»Ÿ Mavenï¼Œç¡®ä¿ IDEA å’Œå‘½ä»¤è¡Œä¸€è‡´

### Q: å¦‚ä½•æ›´æ–° Bundled Mavenï¼Ÿ

**A:** Bundled Maven éš IDEA æ›´æ–°ï¼Œæ— æ³•å•ç‹¬æ›´æ–°ã€‚å¦‚æœéœ€è¦æ–°ç‰ˆæœ¬ï¼Œåˆ‡æ¢åˆ°ç³»ç»Ÿ Mavenã€‚

### Q: åˆ‡æ¢ Maven åéœ€è¦åšä»€ä¹ˆï¼Ÿ

**A:** 
1. é‡æ–°å¯¼å…¥ Maven é¡¹ç›®
2. æ¸…ç†å¹¶é‡æ–°æ„å»ºé¡¹ç›®
3. éªŒè¯ä¾èµ–æ˜¯å¦æ­£ç¡®åŠ è½½

## æ€»ç»“

- âœ… **Bundled Maven 3.9.9 å¯¹å½“å‰é¡¹ç›®å®Œå…¨å¤Ÿç”¨**
- âœ… **ç‰ˆæœ¬å·®å¼‚ä¸ä¼šå¯¼è‡´åŠŸèƒ½é—®é¢˜**
- âœ… **å¯ä»¥ç»§ç»­ä½¿ç”¨ï¼Œæ— éœ€åˆ‡æ¢**
- ğŸ”„ **å¦‚æœéœ€è¦ä¸å‘½ä»¤è¡Œä¿æŒä¸€è‡´ï¼Œå¯ä»¥åˆ‡æ¢åˆ°ç³»ç»Ÿ Maven 3.9.11**

**å»ºè®®ï¼š** å¦‚æœå½“å‰é…ç½®å·¥ä½œæ­£å¸¸ï¼Œæ— éœ€æ›´æ”¹ã€‚å¦‚æœé‡åˆ°ä¾èµ–è§£ææˆ–é…ç½®åŒæ­¥é—®é¢˜ï¼Œå†è€ƒè™‘åˆ‡æ¢åˆ°ç³»ç»Ÿ Mavenã€‚

